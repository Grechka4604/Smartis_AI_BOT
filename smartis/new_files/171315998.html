<p>Веб-сервис - это промежуточный сервис между CRM клиента и нашим сервисом (выделен желтым на скрине).&nbsp;</p><p>Клиент отправляет данные в веб-сервис, а мы настраиваем интеграцию с ним и автоматически забираем данные.&nbsp;</p><p><ac:image ac:height="250"><ri:attachment ri:filename="image2023-11-13_12-15-30.png" /></ac:image></p><p><br /></p><p><strong>Причина появления.</strong></p><p>Не все клиенты готовы предоставлять доступ напрямую в crm по разным причинам:</p><ul><li>IT или безопасники&nbsp; боятся за безопасность данных,&nbsp;</li><li>Работоспособность crm может страдать при прямых запросах,&nbsp;</li><li>Если клиент использует 1С (нельзя напрямую интегрироваться с 1С);</li><li>Клиент хочет ограничить часть информации и управление правами пользователей не закрывает эту информацию.&nbsp;</li></ul><p><br /></p><p><strong>1.Проработка модели данных</strong></p><p><strong><strong>Очень важный этап!</strong>&nbsp;</strong>важно проработать заранее, чтобы не вносить потом изменения в интеграцию постоянно.<strong><br /></strong></p><ol><li>Получить от клиента модель данных CRM.</li><li>Многие клиенты просят отправить рекомендации, какие поля нужны в аналитике. Можете отправлять им этот&nbsp;</li></ol><p><ac:structured-macro ac:name="view-file" ac:schema-version="1" ac:macro-id="689842d1-5109-4bb5-be72-1ba4d8970c2f"><ac:parameter ac:name="name"><ri:attachment ri:filename="Рекомендации по полям в CRM (1).docx" /></ac:parameter><ac:parameter ac:name="height">250</ac:parameter></ac:structured-macro></p><p><br /></p><ol><li>На нашей стороне нужно ответственно отнестись к модели, самостоятельно ПМу разобрать и предоставить рекомендации клиенту. Можно опираться на рекомендации или поможет Катя.&nbsp;</li><li>Согласовать финальный список полей и сущностей.</li></ol><p>Кратко по полям:&nbsp;Важно иметь заполненные поля источников, брокеров, объектов, контактов, даты встреч/бронирования/подписания, и те поля, по которым будут фильтроваться целевые метрики.&nbsp;</p><p>Клиент заранее должен понимать, как фильтровать целевые метрики!</p><p>После того как модель согласована клиент начинает разрабатывать веб-сервис.&nbsp;<br /><strong><br /></strong><br /><strong>2. Разработка веб-сервиса&nbsp;</strong></p><ol><li>Предоставляем рекомендации по веб-сервису&nbsp;<br /><br /><ac:structured-macro ac:name="view-file" ac:schema-version="1" ac:macro-id="db675f74-2347-4769-8968-f45782291034"><ac:parameter ac:name="name"><ri:attachment ri:filename="Рекомендации по созданию web-сервиса (2).docx" /></ac:parameter><ac:parameter ac:name="height">250</ac:parameter></ac:structured-macro></li><li>Клиент на своей стороне начинает разработку веб-сервиса своими силами.</li></ol><p><strong>Важно!</strong> Мы веб-сервисы не разрабатываем самостоятельно для них!</p><p>&nbsp; &nbsp; &nbsp; 3.&nbsp; После этого клиент предоставляет API документацию и токен/доступы для настройки интеграции с этим веб-сервисом.&nbsp;</p><p><br /></p><p><strong>3. Разработка интеграции с веб-сервисом на нашей стороне.</strong></p><ol><li>Ставим задачу на нашу разработку по созданию интеграции, прописываем доступы и Апи, вкладываем модель данных.</li><li>Задача проходит валидацию, после этого клиента можем ориентировать, когда возьмем в работу и сколько будет делаться интеграция.&nbsp;</li><li>После нужно положить в спринт.</li><li>Интеграция разрабатывается где-то 2 недели- месяц в зависимости от того, кто делает.</li><li>Синхронизируются исторический данные за последний год, контакты за весь период.</li><li>После разработчик отдает готовую интеграцию ПМу.&nbsp;<br /><br /></li></ol><p><strong><span style="letter-spacing: 0.0px;">4. Тестирование.&nbsp;</span></strong></p><p><br /></p><p>Самый сложный этап!</p><ol><li>Менеджер проверяет готовую интеграцию и сверяет поля в каждой сущности с моделью данных. Обычно здесь проблем нет.</li><li>Проверить все ли фильтры по этим полям добавились, можно это совместить с первой задачей.&nbsp;</li><li>Проверяем добавились ли поля дат в фильтры &quot;Календарь&quot;.</li><li>Появились ли в коннекторе все необходимы поля для привязки по объектам.&nbsp;</li><li>Кол-во сырых сущностей с заполненными контактами, без контактов должно быть менее 2% данных.</li><li>Проверить логику удаленных данных. Должен быть фильтр &quot;Сущность удалена равно/не равно 1/0.&nbsp;</li><li>Проверить, что синхронизация данных работает на ежедневной основе.&nbsp;<br /><br /></li></ol><p><br /><strong>5. Сверка.</strong></p><p>Самый сложный этап!</p><p>Необходимо на этот этап закладывать 2 недели минимум.&nbsp;</p><p><strong>Алгоритм если данные сходятся (идеальный мир):</strong></p><ol><li>Тестирование происходит на тестовом сайте.&nbsp;</li><li>Запрашиваем у клиента сырые итоговые числа по каждой сущности за тестовый месяц. Сырые - это все данные которые находятся в каждой таблицы модели данных без каких-либо фильтров.&nbsp;</li><li>Если сходится увеличиваем период за последний год. (может быть допустимый % расхождений в 1% - это нормально)</li><li>После того, как все месяца сошлись начинаем сверяем целевые метрики.</li><li>Строим целевые метрики по ТЗ.</li><li>Запрашиваем у клиента итоговые числа за последний год по целевым метрикам. Целевые обращения, Успешные встречи, Платные брони, Успешные сделки.&nbsp;</li><li>&nbsp;Сверяем за последний год. Расхождений быть не должно.&nbsp;</li><li>Далее привязываем коннектор к проектам и сверяем данные по объектам.</li><li>Здесь по такой же логике сверяемся.</li><li>Добиваемся100% сходимости в разрезе объектов.&nbsp;<br /><br />&nbsp;</li></ol><p><strong>Алгоритм если данные НЕ сходятся (реальный мир):</strong></p><ol><li>Тестирование происходит на тестовой сайте.</li><li>Запрашиваем у клиента сырые итоговые числа по каждой сущности за тестовый месяц.&nbsp;</li><li>Не сходится - просим выгрузку у клиента и сверяем с помощью ВПР по id почему не сходится.&nbsp;</li><li>Если у нас меньше смотрим у нас те ID, которые не попали и есть ли они вообще.</li><li>Если у клиента меньше, то отправляем ему ID, чтобы он посмотрел почему он их не считает.&nbsp;</li><li>Скорее всего здесь нужно вносить какие-то правки в интеграцию и снова синхронить.</li><li>Повторно сверяемся и ходим так по кругу, пока не сойдутся данные.&nbsp;</li><li>Далее сверяем за год по такой же логике.&nbsp;</li><li>Следующий этап сверка целевых за год, запрашиваем у клиента итоговые числа.&nbsp;</li><li>Не сходимся - запрашиваем выгрузки, ВПРим детально по id.</li><li>У нас больше - значит не учитываем какой-то фильтр. У клиента - смотрим по id почему не попало в целевые.&nbsp;</li><li>Скорее всего нужно будет постоянно менять фильтрацию целевых, потому что клиенты не знают, как у них фильтруются данные.&nbsp;Или вносить изменения в интеграцию и добавлять поля, которые клиент не учел.&nbsp;</li><li>Добиваемся 100% сходимости по целевым.</li><li>Далее привязываем коннектор к проектам и сверяем данные по объектам.</li><li>Здесь по такой же логике, если не сходится - запрашиваем выгрузку и сверяемся по ID.</li><li>Добиваемся 100% сходимости в разрезе объектов.&nbsp;<br /><br /><br /></li></ol><p><strong>Распространенные кейсы расхождений по данной интеграции:</strong></p><ol><li>Непроработанная модель данных, не учли то поле, которое используется в целевых. Клиент не знает, как фильтруются целевые.</li><li>Технические ошибки при создании интеграции, зависит от разработчика, который ее будет делать.</li><li>Плохо работает фильтр по удаленным сущностям.&nbsp;</li><li>Наша интеграция отличается от модели данных, которая у клиента. Например, если в 1 элементе у клиента указывается 2 ЖК, а мы сделали множество элементов и создаем 2 элемента с теми же данными, только по разным ЖК.</li><li>Не отработала синхронизация обновления полей.&nbsp;<br /><br /></li></ol><p><br /></p>