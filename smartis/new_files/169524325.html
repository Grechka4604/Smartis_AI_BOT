<ac:structured-macro ac:name="markdown" ac:schema-version="1" ac:macro-id="5c807b0a-e5d1-4490-be29-0d528c932e58"><ac:plain-text-body><![CDATA[## Основные задачи готовых решений

Данный модуль реализует логику работу с готовыми решениями продукта CDP.
Каждое готовое решение CDP (**далее Solution**) должно выполнять следующие задачи:

>1. **Отображение в интерфейсе**
>2. **Подключение и отключение решения**
>3. **Отображение и сохранение настроек**
>4. **Выполнение основного алгоритма**
>5. **Создание дашборда**

Для этого нам необходимо иметь фабрики каждого решения.

## Директория `Factories`.
В ней описаны классы фабрик CDP решений (на 01.03.2023)
- `\App\Classes\CDP\Solutions\Factories\AntiFraudFactory`
- `\App\Classes\CDP\Solutions\Factories\LalFactory`
- `\App\Classes\CDP\Solutions\Factories\MinusationFactory`

Каждый из этих классов следуют интерфейсу `\App\Classes\CDP\Solutions\Factories\FactoryInterface`, который и описывает
все методы необходимые для решения базовых задач.

```
    // для выполнения задачи №1
    public function makeInformation(): Information;

    // для выполнения задачи №2
    public function makeConnector(): Connector;

    // для выполнения задачи №3
    public function makeSettingsList(): SettingsList;

    // для выполнения задачи №4
    public function makeLauncher(): Launcher;

    // для выполнения задачи №5
    public function makeDashboard(): Dashboard;
```

В данных фабриках не надо описывать бизнес-логику, в них
нужно описать только основные алгоритмы, стратегии и объекты, с которыми надо будет работать.

## Задача 1. Отображение в интерфейсе - `\App\Classes\CDP\Solutions\ValueObject\Information`.

О нем расписывать особого смысла нет. Так как все атрибуты описаны внутри класса.

Логика получения информации о готовых решений в интерфейсе, описана в `\App\Classes\CDP\UseCase\GetCdpSolutionsUseCase`.

## Задача 2. Подключение и отключение решения - `\App\Classes\CDP\Solutions\Connector`.

В классе `Connector` описаны три базовых метода, которые он должен уметь делать
1. Подключать Solution `public function connect(User $user, array $settings): bool`
2. Отключать Solution `public function disconnect(User $user): bool`
3. Проверять, включен ли Solution `public function isConnected(User $user): bool`
4. Ставить Solution на паузу  `public function pause(string $solutionCode, int $clientId): bool`
5. Проверять Solution на паузу `public function isPaused(string $solutionCode, int $clientId): bool`

Для реализации этих методов ему необходимо в конструктор передать стратегию, которая описывается интерфейсом `\App\Classes\CDP\Solutions\Strategies\ConnectorStrategyInterface`.

Все стратегии подключения хранятся в директории `Strategies` с суффиксом `...ConnectorStrategy.php`.
Ну и в самой стратегии необходимо описать все методы и всю логику для конкретного Solution

Реализация данной задачи частично зависит и от задачи №3.

## Задача 3. Отображение и сохранение настроек - `\App\Classes\CDP\Solutions\Settings\SettingsList`.

Класс SettingsList, хранит в себе все настройки, которые необходимы для подключения решения. Данный класс необходим для работы
со списком настроек: фильтрации, сортировки и изменение структуры для вывода.

Список настроек - это массив из `\App\Classes\CDP\Solutions\Settings\Setting`.  

Каждая настройка хранит в себе:
- уникальный код
- описание
- логику работы с данным для сохранения
- логику получения дополнительных данных



]]></ac:plain-text-body></ac:structured-macro>