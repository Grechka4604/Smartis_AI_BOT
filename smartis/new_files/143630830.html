<ac:layout><ac:layout-section ac:type="two_right_sidebar"><ac:layout-cell><h3><strong>Основная информация&nbsp;</strong></h3><p>Google Ads (ранее известный как AdWords) &mdash; сервис контекстной рекламы от компании Google, предоставляющий интерфейс и множество инструментов для создания эффективных рекламных сообщений. С февраля 2022 ушел из России, но некоторые агентства каким то способом могут размещать там рекламу и поэтому просили возобновить интеграцию. Так же у нас начинают появляться зарубежные клиенты, которые его используют.&nbsp;</p><p><br /></p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:macro-id="4042646e-74c9-43ac-8d7f-993de977ae4b"><ac:rich-text-body><p>Если у вашего клиента есть данные в старом кабинете Google Ads, к которому нет доступа, но при этом данные клиенту нужно получать в смартис в ретро периодах, то это можно сделать через импорт данных из старого кабинета.<br />Что для этого нужно:</p><ul><li>получить от клиенты выгрузки со всеми необходимыми показателями (расход, клики, показы)</li><li>создать импортируемые показатели по кликам и показам</li><li>загрузить данные по Google Ads:&nbsp;<ul><li>клики - в импортируемый показатель Клики</li><li>показы - в импортируемый показатель Показы</li><li>расход - в импортируемый показатель Бюджет медиапланов (факт) в площадку&nbsp;Google Ads</li></ul></li><li>для того, чтобы старые данные отображались в отчетах, необходимо создать показатели по кликам, расходу и по показам, который включает импортированные вручную данные + данные которые поступают из Google Ads&nbsp;по апи интеграции. Чтобы это сделать, создается новый показатель который строится по формуле Клики (импорт) + Клики Google Ads&nbsp;(с показами и расходами аналогично)</li><li>эти показатели нужно добавить во все отчеты, где нужно отслеживать данные по Google Ads.</li></ul></ac:rich-text-body></ac:structured-macro><p><br /></p><p><strong><br /></strong></p><h3><strong>Подключение интеграции.</strong></h3><ol><li>Переходим в раздел&nbsp;<a href="https://my.smartis.bi/admin/integrations">https://my.smartis.bi/admin/integrations</a></li><li>В секции &quot;Доступные для подключения&quot; будет плашка с кнопкой как на скрине.<br /><ac:image ac:height="123"><ri:attachment ri:filename="image2023-6-27_11-56-25.png" /></ac:image><br />Жмем подключить</li><li>Далее откроется окошко с выбором аккаунта Google<br /><br /><ac:image ac:thumbnail="true" ac:height="250"><ri:attachment ri:filename="image2023-6-27_11-58-24.png" /></ac:image><br />Обратите внимание, это не аккаунт кабинета Google Ads, а общий аккаунт Google. Это связано с тем что Google имеет единую точку авторизации всех их сервисов.</li><li>Далее на текущем этапе вы можете увидеть следующее сообщение<br /><ac:image ac:height="250"><ri:attachment ri:filename="image2023-6-27_12-4-42.png" /></ac:image><br />Это происходит по той причине что наше приложение(через которое работает подключение интеграций) проходит проверку у специалистов Google и после того как оно(приложение) получит одобрение, данное сообщение перестанет появляться.<br />Но даже на текущем этапе мы способны подключить интеграцию, поэтому жмем на ссылку &quot;Дополнительные настройки&quot;.</li><li>Далее жмем на &quot;Перейти на страницу &quot;Smartis&quot; (небезопасно)&quot;<br /><ac:image ac:height="250"><ri:attachment ri:filename="image2023-6-27_12-9-8.png" /></ac:image></li><li>Затем вы увидите окно запроса разрешения. Жмем на кнопку &quot;Разрешить&quot;<br /><br /><ac:image ac:thumbnail="true" ac:height="250"><ri:attachment ri:filename="image2023-6-27_12-11-4.png" /></ac:image></li><li>Далее должны увидеть сообщение об успешном подключении<br /><br /><ac:image ac:thumbnail="true" ac:height="63"><ri:attachment ri:filename="image2023-6-27_12-12-44.png" /></ac:image><br /><br /></li></ol><p>Обратите внимание, что при подключении интеграции, мы НЕ имеем возможность выбрать конкретный кабинет(ы) Google Ads, подключены будут ВСЕ доступные кабинеты Google Ads, поэтому наиболее верным и оптимальным решением будет <strong>расшарить нужный(е) кабинет(ы) на заранее созданный аккаунт Google и далее через него подключать интеграцию</strong>.</p><p><br /></p><p>Если с самим аккаунтом Google Ads возникает проблема (например, его блокируют) - то клиенту необходимо обратиться в тех.поддержку гугл, а не к нам.</p><h3><strong>Настройки интеграции<br /></strong></h3><p>Для того чтобы не допускать перегруз нашей системы и не тратить лишний раз лимиты выделенные нам Google, мы должны работать только с теми аккаунтами Google Ads, которые нам действительно нужны. Для этих целей была введена настройка выбора аккаунтов.</p><p><ac:image ac:height="250"><ri:attachment ri:filename="image2023-6-27_13-41-39.png" /></ac:image><br /><br />Выбираем нужные нам аккаунты(они же клиенты), жмем кнопку сохранить.</p><p><strong>ВАЖНО:</strong> После того как вы сохранили аккаунты, необходимо дать системе некоторое время(~40 минут), чтобы она успела импортировать все необходимые данные по выбранным клиентам(кампании, объявления, статистику).</p><p><br /></p><h3>Привязка интеграции к сайтам&nbsp;</h3><p>Данные по интеграции нельзя просматривать в отчете, пока интеграция не привязана к сайтам в личном кабинете. Интеграцию нужно привязать ко всем сайтам, по которым ведется реклама из данного рекламного кабинета.<br />Например, у вас рекламный кабинет, в котором ведут рекламу по ЖК #1 - значит, ее нужно привязать к сайту этого ЖК.<br />Если по 1 ЖК у вас несколько сайтов, но все они входят в 1 объект в Smartis, интеграцию достаточно привязать только к 1 из этих сайтов (любому).</p><ol><li>Зайти в раздел Администрирование&nbsp;&rarr; Проекты и сайты&nbsp;&rarr; Сайты и выбрать нужный сайт<br /><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="250"><ri:attachment ri:filename="Снимок экрана 2023-12-06 в 13.04.37.png" /></ac:image></span><br /><br /></li><li>По клику на название сайта откроется меню для привязки интеграций. В разделе Интеграции доступные для привязки найдите нужную и нажмите &quot;Привязать с логином&quot;&nbsp;<br /><ac:image ac:thumbnail="true" ac:height="250"><ri:attachment ri:filename="image2024-1-17_10-58-42.png" /></ac:image></li><li>В выпадающем списке логинов выберите нужный и кликните на него (выбрать модно только 1 логин единовременно). После выбора логина страница обновится и привязанная интеграция отобразится в разделе Привязанные к сайту интеграции<br /><ac:image ac:height="250"><ri:attachment ri:filename="image2024-1-17_10-59-31.png" /></ac:image></li><li>Для каждой интеграции можно настроить условия привязки - например, если вам нужно получать из интеграции для выбранного сайта только определенные кампании, вы можете прописать такие условия. Для этого кликните на иконку шестеренки на плашке интеграции. Здесь можно указать условия для привязки к сайту определенных рекламных кампаний в виде регулярного выражения. В примере мы указали, что кампании у которых в названии есть &quot;бренд&quot; или &quot;brand&quot; к сайту привязывать не нужно.</li></ol><h3>Такая настройка используется, если в рекламном кабинете рекламные кампании по нескольким объектам ЖК или как в нашем случае - есть общие рекламные кампании по всему бренду клиента и их нужно просматривать в Smartis в отдельном объекте.<br /><ac:image ac:height="250"><ri:attachment ri:filename="image2024-1-17_11-0-36.png" /></ac:image><br /><br />Обновление данных по интеграции</h3><p>Для Google Ads доступен мониторинг достоверности по сущности &quot;Расходы&quot;. Также есть возможность обновления данных + достоверности и отдельно достоверности через раздел &quot;Мониторинг системы&quot;.<br /><br /></p><h3><strong>Конвертация валюты.</strong></h3><p>Ввиду того что действие Google Ads в РФ на данный момент приостановлено, мы сталкиваемся с некоторыми ограничениями, одно из них - отсутствие возможности использовать валюту РФ. По этой причине был сделан специальный интерфейс, который поможет конвертировать расходы, из иностранной валюты в рубли.</p><p>Переходим в раздел импорта(<a href="https://my.smartis.bi/import">https://my.smartis.bi/import</a>)</p><p>Видим.&nbsp;<br /><br /><ac:image ac:height="204"><ri:attachment ri:filename="image2023-6-27_14-10-2.png" /></ac:image></p><p><strong>Примечание:</strong>&nbsp;<em>Данная вкладка появляется только тогда, когда есть хотя бы одна активная интеграция с Google Ads</em></p><p><br /></p><p>Попробуем добавить правило, нажмем на кнопку &quot;Добавить&quot;, затем выберем нужный нам аккаунт из списка, выберем дату и введем курс, который был на эту дату.&nbsp;</p><p>В итоге мы создали правило для конвертации валюты.</p><p><ac:image ac:height="250"><ri:attachment ri:filename="image2023-6-27_14-14-18.png" /></ac:image><br /><strong>Чтобы правило было задействовано, надо обязательно нажать на кнопку сохранить. Чтобы удалить правило нужно нажать на соответствующую красную кнопку с крестиком и нажать сохранить.</strong><br /><br /></p><h4>Как работает правило?</h4><p>Расходы, от 2023-06-01 и далее, по аккаунту TestAccount1, будут сконвертированы в рубли по курсу 80, т.е., если&nbsp;например расход за от&nbsp;2023-06-01 по текущую дату составлял 1000$, то к нам в базу будет сохранена цифра&nbsp;1000 * 80 = 80000 руб.<br /><br />Попробуем добавить еще одно правило для того же аккаунта(TestAccount1).</p><p><ac:image ac:height="250"><ri:attachment ri:filename="image2023-6-27_14-28-43.png" /></ac:image></p><p>Алгоритм:</p><ol><li>Расходы, от 2023-06-01 до&nbsp;2023-06-08&nbsp;, по аккаунту TestAccount1, будут сконвертированы в рубли по курсу 80</li><li>Расходы от&nbsp;2023-06-08 по текущую дату, по аккаунту TestAccount1, будут сконвертированы в рубли по курсу 84</li></ol><p><br /></p><h3>Как правильно использовать этот инструмент?</h3><p>Правила должны создаваться на те даты, когда клиент пополнял счет аккаунта. Если глянуть на скрин выше, то можно сделать вывод что клиент пополнил счет аккаунта&nbsp;TestAccount1 сначала 2023-06-01, потом 2023-06-08. Суть в том чтобы зафиксировать курс валюты на момент пополнения счета аккаунта, для корректной конвертации с минимальной погрешностью.</p><p>Также, чтобы уменьшить погрешность при конвертации, очень желательно чтобы остаток(от предыдущего пополнения) был минимален, перед тем как клиент вновь пополнит счет.</p><p><br /></p><p><br /></p></ac:layout-cell><ac:layout-cell><p><ac:structured-macro ac:name="toc" ac:schema-version="1" ac:macro-id="8164fced-bbe0-4b89-a89a-071fc5bd82bb" /></p></ac:layout-cell></ac:layout-section></ac:layout>