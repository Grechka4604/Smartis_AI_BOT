<ac:layout><ac:layout-section ac:type="two_right_sidebar"><ac:layout-cell><h3><span style="color: rgb(77,81,86);"><strong>Основная информация</strong></span></h3><p><span style="color: rgb(77,81,86);"><strong>Microsoft Dynamics</strong>&nbsp;&mdash; СRM и ERP системы для планирования ресурсов предприятия и управления взаимоотношениями с клиентами, разработанных компанией Microsoft.</span></p><p><span style="color: rgb(77,81,86);">Мы считаем интеграцию полу кастомной, потому что у&nbsp;</span><span style="color: rgb(77,81,86);">каждого клиента свои справочники и часть справочников может быть интегрирована, а&nbsp; часть справочник необходимо будет вручную разработчику доделывать. Так же&nbsp;<span style="color: rgb(77,81,86);">обычно клиенты не дают прямой доступ к crm в целях безопасности и приходится выбирать один из кастомных методов. Редко когда подключаем такую нативную интеграцию.&nbsp;</span></span></p><p><span style="letter-spacing: 0.0px;">Цель интеграции &ndash; забрать из первоисточника данных (CRM) о продвижении клиентов необходимую и достаточную информацию, чтобы связать маркетинговую историю с CRM историей продвижения конкретных клиентов, а также проводить дополнительную бизнес- аналитику согласно запрошенным требованиям в рамках ТЗ заказчика.&nbsp;</span></p><p><span style="letter-spacing: 0.0px;"><ac:structured-macro ac:name="widget" ac:schema-version="1" ac:macro-id="b040394c-0c52-4334-98af-d5e1dc99293d"><ac:parameter ac:name="url"><ri:url ri:value="http://youtube.com/watch?v=W7-m-cLPUlg" /></ac:parameter></ac:structured-macro><br /></span></p><h3><span style="color: rgb(77,81,86);">Настройка интеграции</span></h3><ol><li>&nbsp;Интеграция данных из MSD в Smartis доступна из интерфейса Smartis, в разделе &quot;Администрирование&quot; -&gt; &quot;Интеграции&quot;.&nbsp;</li></ol><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><ac:image ac:height="400"><ri:attachment ri:filename="image2024-1-17_12-1-38.png" /></ac:image></span></p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><br /></span></p><p><span class="confluence-embedded-file-wrapper image-center-wrapper">2. Далее необходимо запросить у клиента все необходимые данные:</span></p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><ac:image ac:height="400"><ri:url ri:value="http://dl3.joxi.net/drive/2024/01/17/0044/0356/2916708/08/9d61c11d25.jpg" /></ac:image><br /></span></p><p>На данный момент поддерживается авторизация только через NTLM протокол. Описано тут:&nbsp;<a href="htps://docs.microsoV.com/en-us/dynamics365/business-central/dev-itpro/">htps://docs.microsoV.com/en-us/dynamics365/business-central/dev-itpro/</a>&nbsp;administraoon/configure-server-instance</p><p><br /><strong>Для авторизации по протоколу NTLM необходимо: </strong></p><ul><li>Создать пользователя в MS Dynamics cправами на чтение необходимых для интеграции справочников и полей.</li><li>Предоставить логин и пароль пользователя специалистам Smaros или самостоятельно подключить интеграцию в личном кабинете&nbsp;<a href="htps://my.smaros.bi/admin/integraoons" style="letter-spacing: 0.0px;">htps://my.smaros.bi/admin/integraoons</a></li><li>Занести IP адреса серверов в список разрешенных: 212.109.217.249 213.159.213.250</li><li>Предоставить HTTPS адрес CRM в формате:&nbsp;<a href="htps://crm.company.ru/MAIN" style="letter-spacing: 0.0px;">htps://crm.company.ru/MAIN</a></li><li>Указать необходимую версию crm.&nbsp;</li></ul><p>Примечание: <br />При невозможности использования протокола авторизации NTLM, Smar&gt;s готовы выполнить доработки по изменению принципов авторизации. Обозначьте какой способ авторизации для вас наиболее предпочтителен, мы оценим ту задачу.</p><p>После того, как интеграция подключилась мы донастраиваем ее.&nbsp;</p><p><ac:image ac:height="400"><ri:url ri:value="http://dl4.joxi.net/drive/2024/01/17/0044/0356/2916708/08/1d768b7da3.jpg" /></ac:image></p><ul><li>Выбираем сущности, которые появились&nbsp;</li><li>Поле объекта в заявке и поле объекта в договоре.&nbsp;</li></ul><p><br /></p><h3><span style="color: rgb(0,0,0);">Привязка интеграции к сайту</span></h3><p><span style="color: rgb(0,0,0);">Для того, чтобы данные отобразились в статистике проекта в Smartis, необходимо привязать интеграцию к нужному проекту.&nbsp;Данные мы всегда привязываем к базовой единице - сайту.</span></p><ol><li><span style="color: rgb(0,0,0);">Для привязки необходимо пройти в раздел &quot;Проекты и сайты&quot;, выбрать нужный сайт и зайти в его настройки.&nbsp;</span></li><li><span style="color: rgb(0,0,0);">В доступных для привязки интеграциях необходимо выбрать интеграцию и привязать ее к сайту.&nbsp;<br /><br /><ac:image ac:height="128"><ri:attachment ri:filename="image2024-1-17_12-16-29.png" /></ac:image><br /></span></li><li><span style="color: rgb(0,0,0);">После того, как привязали интеграцию к сайту, никакие дополнительные действия не нужны - интеграция отобразится в разделе &quot;Привязанные к сайту интеграции&quot;<br /><br /><ac:image ac:height="250"><ri:attachment ri:filename="image2024-1-17_12-17-0.png" /></ac:image><br /></span></li><li><span style="color: rgb(0,0,0);">Из самой интеграции привязки по разным условиям для отдельных сайтов настроить невозможно - эти настройки выполняются в коннекторе&nbsp;Smartis.СRM, который также нужно привязать к сайту (выбрать его из раздела доступных интеграций и нажать &quot;Привязать к сайту&quot;). О том, как настроить привязки к сайт с помощью коннектора - читать тут:&nbsp;<a href="https://docs.uiscom.ru/pages/viewpage.action?pageId=171327718">6. Коннектор Smartis.CRM</a></span><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="150"><ri:url ri:value="http://dl3.joxi.net/drive/2024/01/15/0044/0356/2916708/08/7e05ae0541.jpg" /></ac:image></span></li></ol><p>Для корректной привязки к сайтам важно знать бизнес-логику клиента - как именно он хочет смотреть данные в Smartis и как он их делит на объекты. Некоторые клиенты выделяют как отдельный объект нежилые типы недвижимости - паркинг, кладовки, коммерческие помещения.&nbsp;</p><p><br /></p><h3><span>Ритм<span> </span>синхронизаций.</span></h3><p>Синхрон 49</p><p>Цель: синхрон всех сущностей</p><p>Период запуска: раз в день</p><p>За какое время обновляет: за последние 2 дня</p><p>Сущности для синхронизации: аккаунты, контакты, выбранные у каждой интеграции сущности</p><p>По какому полю идёт обработка данных: по дате создания</p><p><br /></p><p>Синхрон 135</p><p>Цель: контрольная ресинхронизация за предыдущие сутки</p><p>Период запуска: раз в день</p><p>По какому полю идёт обработка данных: по дате обновления</p><p><br /></p><p>Синхрон 155</p><p>Цель: обогащение сделок дайнемикса информацией об оплате</p><p>Период запуска: раз в час</p><p><strong>берет все сделки, которые этот синхрон не обрабатывал</strong></p><p><br /></p><p>Синхрон 159</p><p>Цель: контроль удалённых данных</p><p>Период запуска: раз в день, в 5 утра</p><p>Период обработки: за последние 32 дня<br /><br />Если в БД MS Dynamics удалить строку данных (это на практике действительно происходит и очень часто) без этой проверки - в Smartis она останется, из-за чего данные могли бы расходиться.&nbsp;</p><p><br /></p><p><strong>Отрада<br /></strong>у клиента не работают фильтры, поэтому для них нужно синхронить все сущности отдельно</p><p>Синхрон 161</p><p>Цель: синхрон всех сущностей по клиенту Отрада</p><p>Периодичность запусков синхрона: раз в час</p><p><br /></p><p>Синхрон 170</p><p>Цель: контроль удаленных данных для Отрады</p><p>Периодичность запусков: раз в день</p><p><br /></p><p>Синхрон 185</p><p>Цель: суточный синхрон всех сущностей для Отрады</p><p>Периодичность: раз в час</p><p><br /></p><p>Синхрон: 441</p><p>Цель: ежечасная синхронизация для клиентов, которым нужна синхронизация чаще чем раз в сутки</p><p>Клиенты: 1881 (Дельта Ком)</p><p>Период забора данных: за последние три часа</p><p>Периодичность работы синха: раз в час</p><p><strong>Поле &quot;сущность удалена&quot;-&nbsp;</strong>Мы заполняем её благодаря синхронам 159 и 170. Сами поля &quot;..... удалена?&quot; создаются только в Смартис, в Дайнемиксе такого нет</p><p>Как таковых ретро-синхронизаций нет. Есть только 135 синхрон, который обновляет модифицированные вчера данные</p><p><span><br /></span></p><p><strong>Очередь синхронизации</strong></p><p>У Отрады отдельные синхроны</p><p>Остальные клиенты синхронятся по возрастанию ид интеграции (как Битрикс)</p><p>Клиенты, для которых работает 441 синхрон, обрабатываются им в рамках отдельной очереди, а остальные синхроны у них работают в рамках обычной очереди.</p><p><strong><br /></strong></p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><ac:structured-macro ac:name="view-file" ac:schema-version="1" ac:macro-id="13374332-f01d-4be1-ace3-ed8f911653c2"><ac:parameter ac:name="name"><ri:attachment ri:filename="Техническая_документация_Smartis_Коробка(актуальная) (1).docx" /></ac:parameter><ac:parameter ac:name="height">250</ac:parameter></ac:structured-macro></span></p><p><br /></p><p><br /></p><h3 style="text-align: left;">Показатели</h3><p>Звонки MS Dynamics<br /><strong>Заявки MS Dynamics</strong><br /><strong>Сделки MS Dynamics</strong><br />Сделки MS Dynamics с лидов за период<br />Заявки MS Dynamics с лидов за период<br />Задачи MS Dynamics<br /><strong>Встречи MS Dynamics</strong><br />Визиты MS Dynamics<br />Встречи MS Dynamics с лидов<br />Визиты MS Dynamics с лидов<br />Сумма сделок MS Dynamics<br />Визиты MS Dynamics с лидов [Кол-во уникальных]<br />Встречи MS Dynamics с лидов [Кол-во уникальных]<br />Визиты MS Dynamics [Кол-во уникальных]<br />Встречи MS Dynamics [Кол-во уникальных]<br />Задачи MS Dynamics [Кол-во уникальных]<br />Заявки MS Dynamics с лидов за период [Кол-во уникальных]<br />Сделки MS Dynamics с лидов за период [Кол-во уникальных]<br />Сделки MS Dynamics [Кол-во уникальных]<br />Заявки MS Dynamics [Кол-во уникальных]<br />Звонки MS Dynamics [Кол-во уникальных]<br />Платежи факт<br />Платежи план<br />Сумма по плану продаж<br />Кол-во кв.м по плану продаж<br />Сумма сделок MS Dynamics на дату подачи на регистрацию<br />Цикл до Сделки<br />Цикл до Встречи<br />Цикл до Визита<br />Сумма просроченной дебеторки<br />Показатель для сущности &quot;rop_mediator&quot;<br />Кол-во кв.м по сделкам после корректировок<br />Сумма сделок после корректировок<br />Предметы договоров<br />Резервы MS Dynamics<br />Предложения MS Dynamics<br />Цикл до Сделки c лидов<br />Цикл до Встречи c лидов<br />Цикл до Визита c лидов<br />Согласования MS Dynamics<br />Банк ипотеки MS Dynamics<br />Интерес MS Dynamics<br />Договор MS Dynamics<br />Диалог MS Dynamics<br />План продаж MS Dynamics<br />Позиции плана продаж MS Dynamics<br /><strong>Контакты MS Dynamics - </strong>получаем из полей<strong> tisa_mobilephone </strong>и<strong> PhoneNumber</strong><br />Организация MS Dynamics<br />Вид деятельности контрагента MS Dynamics</p><p><span class="confluence-embedded-file-wrapper image-center-wrapper">Выделила основные сущности, которые используются в интеграции - заявки, визиты, сделки и контакты.&nbsp;</span></p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><br /></span></p><h3>Достоверность по сервису</h3><p>Доступна в Мониторинге системы; стандартно мы рассчитываем достоверность по сущностям аккаунты, контакты. По остальным сущностям достоверность рассчитывается в зависимости от того, какие сущности есть у этого клиента и по каким из них возможен расчет достоверности.</p><p><span style="color: rgb(0,0,0);">Достоверность ретро данных по Microsoft Dynmics (нативная интеграция) считается автоматически за последние 32 дня ежедневно.</span></p><p><br /></p></ac:layout-cell><ac:layout-cell><p><ac:structured-macro ac:name="toc" ac:schema-version="1" ac:macro-id="e7abee5a-b40c-4f25-9702-e24203f234dd" /></p></ac:layout-cell></ac:layout-section></ac:layout>