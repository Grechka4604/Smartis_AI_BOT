<h1><span style="color: rgb(0,0,0);">Основное</span></h1><p><br /></p><p><span style="color: rgb(0,0,0);">В интеграции выбираем таблицу с которой надо будет забирать данные (ГАЛС udv_Smartis_Lead и тд)</span><span style="color: rgb(0,0,0);"><br /></span><span style="color: rgb(0,0,0);"><br /></span><span style="color: rgb(0,0,0);">После выбора таблицы в smartis_stat.mssql_as_service_tables добавляется запись, с этой таблицей.</span></p><p><span style="color: rgb(0,0,0);"><br /></span><span style="color: rgb(0,0,0);">Создается новый тип CRM_elements_types.</span><span style="color: rgb(0,0,0);"><br /></span><span style="color: rgb(0,0,0);"><br /></span><span style="color: rgb(0,0,0);">Руками дополняем поля:&nbsp;</span></p><ul><li style="list-style-type: disc;"><p>datetime_field - по какому полю будем забирать данные (Галс modifiedon)</p></li><li style="list-style-type: disc;"><p>created_at_field - поле с которого берем дату для сущности (Галс createdon)</p></li><li style="list-style-type: disc;"><p>primary_field - поле с которого берем external_id</p></li><li style="list-style-type: disc;"><p>table_class - Класс доп. обработки данных</p></li><li style="list-style-type: disc;"><p>get_row_class (необязательный) - если нужен кастомный запрос</p></li></ul><p><br /></p><p><span style="color: rgb(0,0,0);">Добавляем класс в app/Classes/MssqlAsService/TablesClasses/КЛИЕНТ по аналогии с другими, наследуем от BaseTable и внутри создаем функцию customSaveTableData в которой прописывает кастомную логику. </span></p><p><span style="color: rgb(0,0,0);">Так же добавляем checkObjectField эта функция проверяет/создает поле &quot;Объект&quot; для данной сущности.</span></p><p><br /></p><h1><span style="color: rgb(0,0,0);">Если таблица не содержит все данные</span></h1><p><span style="color: rgb(0,0,0);">Создаем app/Classes/MssqlAsService/GetRowsClasses/КЛИЕНТ по аналогии с другими, наследуем от GetRows и внутри создаем функцию getQuery в которой пишем запрос на получение данных.</span><span style="color: rgb(0,0,0);"><br /></span><span style="color: rgb(0,0,0);"><br /></span><span style="color: rgb(0,0,0);">Добавляем класс в таблицу smartis_stat.mssql_as_service_tables в колонку get_row_class.</span></p>