<ac:layout><ac:layout-section ac:type="two_right_sidebar"><ac:layout-cell><h3><strong>Основная информация&nbsp;</strong></h3><p><strong>Smartis CRM</strong>&nbsp;-&nbsp; искусственная интеграция Smartis, необходимая для структуризации данных любой CRM системы.</p><p>Универсальный коннектор CRM, который переводит структуру данных внешней CRM системы в понятную для структуры данных Smartis.</p><p>Также, при помощи коннектора Smartis.CRM можно импортировать данные CRM из excel в Smartis.&nbsp;</p><p><strong>Обзор коннектора на видео:&nbsp;</strong><br /><br /><ac:structured-macro ac:name="widget" ac:schema-version="1" ac:macro-id="ebbee18d-adeb-4b33-b874-09cfe7f8d860"><ac:parameter ac:name="url"><ri:url ri:value="http://youtube.com/watch?v=Gvdi2gcUj5M" /></ac:parameter></ac:structured-macro></p><h3><strong>Подключение&nbsp;</strong></h3><p>При подключении любой CRM в Smartis создается сопровождающий ее коннектор - Smartis.CRM.&nbsp;<br />Если CRM доступна нативно для интеграции из интерфейса (Битрикс24, Амо, MicrosofDynamics, Macro CRM, или любой другой кастомной, где есть еще интеграция), то коннектор создается автоматически.</p><p>Для кастомных CRM, или импортируемых данных, коннектор необходимо создавать вручную.</p><ol><li><p>Для этого необходимо зайти в раздел &quot;Интеграции&quot;.<br /><ac:image ac:height="250"><ri:attachment ri:filename="image2025-3-12_14-9-30.png" /></ac:image></p></li><li><p>Наименование CRM может быть любым, главное, чтобы имя коннектора было понятно. Токен генерируется автоматически. Далее токен можно использовать для того, чтобы сложить данные в коннектор (его можно передать клиенту или разработчику).</p><p><ac:image ac:height="250"><ri:attachment ri:filename="image2025-3-12_14-20-39.png" /></ac:image></p></li></ol><h3><span style="color: rgb(0,0,0);">Привязка интеграции к сайту</span></h3><p>После подключения Smartis.CRM, коннектор необходимо привязать к проекту(-ам) и сайту(-ам).<br />Если у нас есть интеграция с основной CRM и сопровождающий коннектор, необходимо привязать их вместе.</p><ol><li><span style="color: rgb(0,0,0);">Для привязки необходимо пройти в раздел &quot;Проекты и сайты&quot;, выбрать нужный сайт и зайти в его настройки. <br /></span><span style="color: rgb(0,0,0);"><ac:image ac:height="250"><ri:attachment ri:filename="image2025-3-12_14-25-46.png" /></ac:image><br /></span></li><li><p><span style="color: rgb(0,0,0);">В доступных для привязки интеграциях необходимо выбрать интеграцию Коннектор Smartis.CRM и привязать ее к сайту.&nbsp;<br /></span></p><ac:structured-macro ac:name="tip" ac:schema-version="1" ac:macro-id="d858df2d-5de9-465d-acc9-2bed32b3b22f"><ac:rich-text-body><strong>Совет:</strong> Для отладки и синхронизации CRM данных лучше создавать тестовый сайт, и привязывать к нему &quot;голый&quot; коннектор. Это поможет оценить полноту сырых данных, которые попадают в структуру Smartis.CRM.</ac:rich-text-body></ac:structured-macro></li><li><span style="color: rgb(0,0,0);">Далее нужно настроить, какие именно данные из CRM необходимо привязать к выбранному сайту. Чаще всего нужно выделить данные по какому-то ЖК или по определенным воронкам (в случае с Амо, например, будут данные по воронкам). Для настройки привязок нужно кликнуть на иконку шестеренки на плашке интеграции с коннектором.<br /><br /><ac:image ac:width="400"><ri:attachment ri:filename="Снимок экрана 2023-12-14 в 13.42.49.png" /></ac:image><br />- Название объекта содержит - здесь можно указать (не регулярным выражением) название объекта, по которому нужно привязать данные.&nbsp;<br />- Выбор конкретных наименований объектов - позволяет выбрать из списка конкретные наименования, которые передаются к нам из CRM<br /><ac:image ac:width="400"><ri:attachment ri:filename="Снимок экрана 2023-12-14 в 13.48.31.png" /></ac:image><br />- Привязка к полю сущности CRM - позволяет выбрать по каким полям из определенных сущностей выполнится привязка. <br /><strong>Например</strong>, нам нужно привязать к сайту данные из определенных воронок Амо. информация о воронке указана в поле &quot;Воронка сделки Амо&quot; у CRM-элемента Сделки. Выберем показатель &quot;Сделки&quot;, выберем поле &quot;Воронка сделки Амо&quot;, условие - in (включает), и отметим все нужные воронки.<br /><br /><ac:image ac:width="400"><ri:attachment ri:filename="Снимок экрана 2023-12-14 в 13.47.36.png" /></ac:image></span></li></ol><p class="title"><span style="color: rgb(0,0,0);">Для одной интеграции можно использовать одновременно несколько условий привязки. Например, можно указать объект и с помощью привязки к полю сущности CRM сузить условие, чтобы к сайту привязывались не все данные по объекту, но и например только те, которые лежат в определенной воронке или выделены каким-то другим признаком, указанным в доп полях сущностей CRM (часто исключают данные по нежилым объектам - кладовкам, паркингам. Эта информация также прописана в доп полях CRM элементов и при привязке коннектора отфильтровывается через привязку к полю сущности CRM).</span></p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:macro-id="cb606340-04f4-4492-8ace-81e33eaac152"><ac:rich-text-body><p>Если в коннекторе указаны не все сущности из CRM (например, настроены только &laquo;Интересы&raquo; и &laquo;Договоры бронирования&raquo;, но не добавлены &laquo;Договоры купли-продажи&raquo;), то:</p><ol><li><p><strong>По неуказанным сущностям</strong> (&laquo;Договоры купли-продажи&raquo;) будут загружаться <strong>все данные</strong> без фильтрации.</p></li><li><p><strong>Причина</strong>: Коннектор не получил правил для этих сущностей, поэтому не применяет к ним ограничения.</p></li></ol><p><ac:image ac:height="250"><ri:attachment ri:filename="image2025-4-21_18-59-21.png" /></ac:image></p><p><strong>Решение</strong></p><p>Для исключения &quot;лишних&quot; данных по договорам купли-продажи можно использовать комбинированный подход (но нужно мониторить этот момент и заполнить позднее):</p><ol><li><p><strong>Выбор конкретных объектов</strong> - явное указание нужных наименований договоров</p></li><li><p><strong>Привязка к полю сущности CRM</strong> - синхронизация только записей с определенным значением в указанном поле</p></li></ol><p><ac:image ac:height="250"><ri:attachment ri:filename="image2025-4-21_19-0-29.png" /></ac:image><strong><br /></strong></p></ac:rich-text-body></ac:structured-macro><p class="title"><span style="color: rgb(0,0,0);"><br /><br /><strong>В какой комбинации можно использовать условия:</strong></span></p><ul style="list-style-type: square;"><li class="title"><span style="color: rgb(0,0,0);">Название объекта содержит + Привязка к полю сущности CRM</span></li><li class="title"><span style="color: rgb(0,0,0);">Выбор конкретных наименований объектов +&nbsp;<span style="color: rgb(0,0,0);">Привязка к полю сущности CRM<br /><em>Если заполнить одновременно&nbsp;<span style="color: rgb(0,0,0);">Название объекта содержит и&nbsp;<span style="color: rgb(0,0,0);">Выбор конкретных наименований объектов, то будет использоваться только 1 из этих условий, поэтому вариант, когда вы заполняете эти 2 поля одновременно, использовать не нужно.</span></span></em></span></span></li></ul><ac:structured-macro ac:name="tip" ac:schema-version="1" ac:macro-id="8bd886fa-a5dd-48b9-9cef-afb624835634"><ac:rich-text-body><p>в случае привязки срм к сайту при настройке условий кнопка &quot;сохранить&quot; работает следующим образом:</p><p>если ее не нажимать и закрыть окно с настройками - условие все равно сохраняется, это не баг - это фича.</p><p>Если обновишь страницу - все вернется до состояния до выбора. То что там без обновления страницы &laquo;выбрано последнее не сохраненное состояние&raquo; - это приятный бонус для тех, кто случайно закрыл окно.</p><p><br /></p></ac:rich-text-body></ac:structured-macro><p class="title"><span style="color: rgb(51,102,255);"><br /></span></p><p class="title"><span style="color: rgb(51,102,255);"><span style="color: rgb(0,0,0);">Стабильность работы анализ данных CRM можно мониторить в модуле достоверности.&nbsp;<br /><ac:image ac:height="250"><ri:attachment ri:filename="Снимок экрана 2023-12-14 в 13.21.24.png" /></ac:image></span></span></p><p class="title"><span style="color: rgb(51,102,255);"><span style="color: rgb(0,0,0);">Обратите внимание, что привязка к сайту по объекту в коннекторе приоритетнее, чем выбор&nbsp; в показателе с помощью фильтра Объект. То есть, если вы к сайту привязали интеграциюпо объекту &quot;Ромашка&quot;, а потом в конструкторе отчетов на показатели с данными по этому сайту накладываете фильтр Объект = &quot;Солнышко&quot;, то фильтр не покажет данные. Так как к сайту привязаны данные по &quot;Ромашке&quot;.</span></span></p><h3><strong>Работа с данными&nbsp;</strong></h3><p>Теперь можно работать с CRM данными из конструктора отчетов. CRM показатели отобразятся и будут доступны для выбора в селекторе показателей.&nbsp;</p><p><ac:image ac:alt="image2021-6-30_14-25-6.png"><ri:url ri:value="https://docs.uiscom.ru/download/attachments/128183286/image2021-6-30_14-25-6.png?version=1&amp;modificationDate=1625052306024&amp;api=v2" /></ac:image></p><p>Если у нас подключена какая-либо из базовых интеграций с CRM, в интерфейсе отобразятся показатели этой CRM.&nbsp;</p><p><strong><em>Базовые сущности, которые создаются коннектором:&nbsp;</em></strong></p><ol><li>Контакты/Клиенты (данные о клиенте: контактные данные, фио, и т.д.)</li><li>Интерес (как правило, расширенная информация по приобретаемому продукту, в этом блоке больше всего доп. информации);&nbsp;</li><li>Активность (любое действие с клиентом или от клиента: звонок, заявка, задача и т.д.)&nbsp;</li><li>Визит (характеристики встречи, дата встречи, статус, и т.д.)</li><li>Продажи (виртуальные) (некая сущность предпродажи)</li><li>Договор бронирования</li><li>Договор купли-продажи</li></ol><p>Внутри каждой сущности может быть неограниченное кол-во свойств.&nbsp; Эти свойства можно разделить по типам данных (например: даты, ссылки, текст, бугелево поле и т.д.)</p><p class="title"><span style="color: rgb(51,102,255);"><span style="color: rgb(0,0,0);"><ac:image ac:alt="2021-04-12_18-23-48.png"><ri:url ri:value="https://docs.uiscom.ru/download/attachments/128183286/2021-04-12_18-23-48.png?version=2&amp;modificationDate=1702291690844&amp;api=v2" /></ac:image><br /></span></span></p><h2 class="title"><span style="color: rgb(51,102,255);"><span style="color: rgb(0,0,0);">Схема данных коннектора</span></span></h2><p><strong><span style="color: rgb(51,102,255);"><span style="color: rgb(0,0,0);">Информация для разработчиков.</span></span></strong></p><p><span style="color: rgb(51,102,255);"><span style="color: rgb(0,0,0);">Ниже приведена схема хранения данных в таблицах БД. Обзор схемы также приведен в финальной части видео выше.</span></span></p><p><span style="color: rgb(51,102,255);"><span style="color: rgb(0,0,0);"><ac:image><ri:attachment ri:filename="Screenshot 2024-10-15 142901.png" /></ac:image><br /><br /></span><br /></span></p></ac:layout-cell><ac:layout-cell><p><ac:structured-macro ac:name="toc" ac:schema-version="1" ac:macro-id="ecbd2b19-75e7-4799-a55a-cd02173cfdbd" /></p></ac:layout-cell></ac:layout-section></ac:layout>