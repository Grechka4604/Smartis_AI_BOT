<p>В Smartis можно создавать показатели, которые позволяют расчитывать цикл (кол-во дней) между различными событиями. С помощью этих показателей клиенты могут анализировать, какие каналы помогают приводить &quot;быстрые&quot; сделки, а также оценивать эффективность работы самой воронки продаж и искать проблемные места в этапах воронки, на которых сделки могут &quot;застревать&quot;.</p><h3>Между какими событиями можно анализировать циклы в Smartis:</h3><ul style="list-style-type: square;"><li>от первого касания до выбранного события (касанием может быть сессия, обращение. Просмотры медийки в качестве первого касания не учитываются. При этом нельзя установить ограничение и выбрать какой-то определенный тип касания - например, только сессию или только обращение. Это связано с тем, что по ряду каналов сессий вообще не бывает и считать цикл без этих каналов некорректно)</li><li>от первого обращения&nbsp;до выбранного события (обращения считаем всех типов - звонки, чаты, заявки и квизы. При этом рассчитать цикл от определенного типа обращений (например, от чата или от квиза) нельзя. Будут всегда учитываться любые обращения)</li><li>между датами разных CRM конверсий (например, между датой визита и датой сделки) - для всех срм, кроме Амо и Битрикс 24</li><li>между датами переходов на разные этапы в CRM (для Амо и Битрикс 24)</li></ul><p><br /></p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:macro-id="bfe8b4ca-0239-4180-8266-03d087dc2d3b"><ac:rich-text-body><p><span style="color: rgb(30,31,33);">Чтобы у вашего клиента заполнялись даты касаний, надо чтобы у клиента был включен флаг is_analysis_client. По умолчанию у всех новых клиентов этот флаг проставляется</span></p></ac:rich-text-body></ac:structured-macro><p><br /></p><h3>Как построить циклы между разными событиями:Цикл от первого касания до выбранного события (обращения, визита, сделки, брони и прочих)</h3><p><strong>как построить Цикл от первого касания до выбранного события (обращения, визита, встречи, сделки, бронирования, подписания ДКП и тд)</strong></p><ol><li>Создадим новый показатель с настройками:&nbsp;<ol><li>название - Цикл от первого касания до <em>Название события (например, ДДУ подписан)<br /></em></li><li>единица измерения - дни</li><li>расчет итогов - среднее значение (среднее арифметическое)<br /><br /></li></ol></li><li>Добавим в формулу показателя показатель, который обозначает событие, до которого нужен цикл. В нашем примере это &quot;Подписанные ДДУ и ДКП&quot;<br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 13.56.20.png" /></ac:image><ol><li><p>К показателю &quot;Подписанные ДДУ и ДКП&quot; в настройках добавим фильтр &quot;Smartis.CRM: Логика подсчета значения показателя&quot; с условием фильтрации &quot;Цикл от выбранной даты&quot; и параметром фильтрации &quot;Дата первого касания (new)&quot;</p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:macro-id="83897587-8a47-4d4c-abd3-27092bee45e2"><ac:rich-text-body>Дата первого касания (new) и Дата первого обращения (new) работают на новом анализе (анализ на лету). Есть также параметр&nbsp;Дата первого касания и&nbsp;Дата первого обращения - они работают на старом анализе. Сейчас 99% используют именно новы анализ, поэтому нужно выбирать параметры с пометкой new</ac:rich-text-body></ac:structured-macro><p><br /><ac:image ac:height="250"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 13.56.54.png" /></ac:image></p></li></ol></li><li>Применим фильтр и сохраним показатель. Далее при построении отчета мы увидим, сколько дней проходит между первым касанием (сессией или обращением) и подписанием ДДУ и ДКП.</li></ol><p><br /></p><p><br /></p><p><br /></p><p><strong>как построить Цикл от первого обращения до выбранного события (обращения, визита, встречи, сделки, бронирования, подписания ДКП и тд)</strong></p><ol><li>Создадим новый показатель с настройками:&nbsp;<ol><li>название - Цикл от первого обращения до&nbsp;<em>Название события (например, ДДУ подписан)<br /></em></li><li>единица измерения - дни</li><li>расчет итогов - среднее значение (среднее арифметическое)<br /><br /></li></ol></li><li>Добавим в формулу показателя показатель, который обозначает событие, до которого нужен цикл. В нашем примере это &quot;Подписанные ДДУ и ДКП&quot;<br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.00.43.png" /></ac:image></li><li>К показателю &quot;Подписанные ДДУ и ДКП&quot; в настройках добавим фильтр &quot;Smartis.CRM: Логика подсчета значения показателя&quot; с условием фильтрации &quot;Цикл от выбранной даты&quot; и параметром фильтрации &quot;Дата первого обращения (new)&quot;<br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.00.17.png" /></ac:image></li><li>Применим фильтр и сохраним показатель. Далее при построении отчета мы увидим, сколько дней проходит между первым касанием (сессией или обращением) и подписанием ДДУ и ДКП.</li></ol><p><br /></p><p><br /></p><p><strong>Как построить цикл между датами разных CRM конверсий (например, между датой визита и датой сделки) - для всех срм, кроме Амо и Битрикс 24</strong></p><ol><li>Создадим новый показатель с настройками:&nbsp;<ol><li>название - Цикл от&nbsp;<em>Название события (например, Встреча)</em>&nbsp;до&nbsp;<em>Название события (например, ДДУ подписан)<br /></em></li><li>единица измерения - дни</li><li>расчет итогов - среднее значение (среднее арифметическое)<br /><br /></li></ol></li><li>Добавим в формулу показателя показатель, который обозначает событие, до которого нужен цикл. В нашем примере это &quot;Подписанные ДДУ и ДКП&quot;<br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.05.05.png" /></ac:image></li><li>Далее нам необходимо проверить, есть ли в нужной срм сущности поле, ОТ которого будем строить цикл. В нашем примере цикл строиться от даты в сущности Встреча До даты в сущности Подписанные ДДУ и ДКП (то есть даты в Договоре). Если поле из &quot;встреч&quot;, которое обозначает нашу дату, от которой нужен цикл, не передается в сущность &quot;Договор&quot;, то нужно воспользоваться функционалом Копирование значений CRM элементов&nbsp;<a href="https://docs.uiscom.ru/pages/viewpage.action?pageId=171322444">https://docs.uiscom.ru/pages/viewpage.action?pageId=171322444<br /></a>Необходимо будет настроить передачу даты из Встречи в сущность Договор (при условии что эти сущности в срм имеют связь между собой). Далее Через функционла Мониторинг в Smartis нужно будет обновить ретро-данные по Копированию значений CRM элементов за нужный период в прошлое. И когда мы убедимся через Мониторинг, что все поля скопированы, переходим к следующему шагу.<br /><strong><br />Если у вас изначально в нужную сущность, до которой нужен цикл, передаются поля с датой, от которой нужен цикл, то настраивать копирование полей не нужно (то есть данный пункт в этом случае пропускам)</strong><br /><br /></li><li>К показателю &quot;Подписанные ДДУ и ДКП&quot; в настройках добавим фильтр &quot;Smartis.CRM: Логика подсчета значения показателя&quot; с условием фильтрации &quot;Цикл от выбранной даты&quot; и параметром фильтрации с названием поля, в котором содержится информация о дате, от котрогой нужно построить цикл. В нашем примере это поле&nbsp;&quot;new_date&quot;. Обратите внимание, что в выпадающем списке отображаются только те поля, которые есть в нашей сущности. Если поля нет у сущности - то от него нельзя построить цикл.<br /><ac:image ac:height="250"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.12.34.png" /></ac:image></li><li>Теперь еще раз выберем в настройках фильтр &quot;Smartis.CRM: Логика подсчета значения показателя&quot; с условием фильтрации &quot;Цикл до выбранной даты&quot; и параметром фильтрации с названием поля, в котором содержится информация о дате, до которой нужно построить цикл. В нашем примере это поле&nbsp;&quot;new_date_approval&quot;.<br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.16.52.png" /></ac:image></li><li>Применим фильтры и сохраним показатель. Далее при построении отчета мы увидим, сколько дней проходит между датой встречи (из поля new_date)и подписанием ДДУ и ДКП (из поля new_date_approval).<br />Использовать в качестве даты, от которой нужен цикл, можно любое доступное поле с датами. Это связано с тем, что часто у клиента несколько полей с датами и цикл могут считать не только по дате создания, но и например по дате проведения встречи, дате подписания договора, дате оплаты и прочих дат.<br />Названия полей с датами у клиентов могут быть разные, поэтому ориентируйтесь на доп поля вашего клиента в каждом конкретном случае.</li></ol><p><br /></p><p><br /></p><p><strong>Как построить цикл <span style="letter-spacing: 0.0px;">между датами переходов на разные этапы в CRM для&nbsp;</span><span style="letter-spacing: 0.0px;">Амо и Битрикс 24</span></strong></p><p>&nbsp;(например, между датой перехода на этап визит до даты перехода на этап успешно реализовано)&nbsp;</p><p>основное отличие здесь заключается в том, что у Амо и Битрикс все даты хранятся в 1 сущности - сделке. Поэтому для них не требуется копировать поля из одного срм элемента в другой. Также у данных срм важно учитывать именно даты перехода. Поэтому тут тоже есть свои особенности.</p><p><br /></p><ol><li>Создадим новый показатель с настройками:&nbsp;<ol><li>название - Цикл от&nbsp;<em>Название события (например, Встреча)</em>&nbsp;до&nbsp;<em>Название события (например, Успешно реализовано)<br /></em></li><li>единица измерения - дни</li><li>расчет итогов - среднее значение (среднее арифметическое)<br /><br /></li></ol></li><li>Добавим в формулу показателя Кол-во Сделок (системный показатель)<br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.31.47.png" /></ac:image><br /><br /></li><li>К показателю &quot;Кол-во Сделок&quot; в настройках добавим фильтр &quot;Smartis.CRM: Логика подсчета значения показателя&quot; с условием фильтрации &quot;Цикл от выбранной даты&quot; и параметром фильтрации с переходом на нужный этап. В нашем случае это этап &quot;Дата перехода в этап встреча назначена (лид)&quot;. В выпадающем списке отобразятся все доступные даты перехода, которые обозначают переходы между ключевыми этапами воронки продаж.<br /><br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.36.02.png" /></ac:image><br /><br /></li><li>Теперь еще раз выберем в настройках фильтр &quot;Smartis.CRM: Логика подсчета значения показателя&quot; с условием фильтрации &quot;Цикл до выбранной даты&quot; и параметром фильтрации по дате перехода на нужный этап. В нашем случае это этап &quot;Дата перехода в стадию ДДУ подписан&quot;. В выпадающем списке отобразятся все доступные даты перехода, которые обозначают переходы между ключевыми этапами воронки продаж.<br /><ac:image ac:width="500"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 14.37.09.png" /></ac:image></li><li>Применим фильтры и сохраним показатель. Далее при построении отчета мы увидим, сколько дней проходит между переходом на этап встреча назначена (лид) и подписанием ДДУ&nbsp;<br /><br /></li></ol><p>Рассмотрим дополнительные возможности по работе с циклами.<br />После того, как вы создали показатель, необходимо построить отчет, с которым будет работать клиент. Поэтому важно также ответить на вопросы:</p><ul style="list-style-type: square;"><li>есть ли ограничения по периоду ретро, за который клиент хочет учитывать событие, от которого считаем цикл? Если есть, то за какой период клиент хочет учитывать события, от которого считаем цикл?</li><li>Учитываем ли прямые касания?</li><li>В какой модели атрибуции хотят просматривать отчет?</li></ul><p>Ответы на эти вопросы помогут подобрать правильную модель атрибуции для отчета.</p><ul style="list-style-type: square;"><li>если есть ограничения по периоду ретро (например, клиент хочет отчет только по сделкам, у которых первое касание было в течение последних 180 дней) - задаем период ретро в настройках модели атрибуции. В таком случае в отчет попадут только события, у которых первое касание/обращение или другое событие, от даты которого считаем цикл, было в рамках указанного периода ретро. Если по событию, от которого строим цикл, дата больше чем 180 дней назад - CJM с ним не попадет в отчет. Как это работает: анализ &quot;НА ЛЕТУ&quot; сначала в выбранной МА анализирует данные, потом отсекаются лишние данные и назначаются даты первого касания или обращения.&nbsp;</li><li>если учитываем прямые касания - то в кач-ве первых касаний/обращений могут быть касания/обращения по прямому трафику. Если не учитываем - будет только реклама по каналу не равно Прямой трафик</li><li>Выбирать саму МА правильно исходя из задач, которые клиент хочет решить с помощью отчета по циклам:<ul style="list-style-type: square;"><li><p>в Линейной модели есть касания с разными каналами - помогает ответить на вопрос: какие каналы помогают ускорить продвижение по воронке, у канала с наименьшим циклом - самая быстрая работа по продвижению в воронке продаж. Учитывайте, что в таком случае&nbsp;все равно цикл считается&nbsp;от даты первого касания вообще по CJM, а не от даты первого касания с каналом. То есть линейная модель покажет просто все каналы, которы участвуют в продвижении от 1 события до 2 события по воронке продаж.</p></li><li><p>модель по первому касанию позволяет увидеть, какие каналы приводят более быстрые (или наоборот более медленные) конверсии.&nbsp;Учитывайте, что в таком случае&nbsp;все равно цикл&nbsp;считается&nbsp;от даты первого касания вообще по CJM, а не от даты первого касания с каналом.&nbsp;</p></li><li>в модели по последнему касанию результат будет такой же, как в модели по первому касанию. Это связано с тем, что на уровне показателя мы просим смотреть именно на первые касания/обращения (когда строим цикл от даты первого касания или обращения).</li></ul></li></ul><p><strong>Кроме ответов на вопросы, важно обозначить следующие ограничения для клиента:</strong></p><ul style="list-style-type: square;"><li>мы НЕ можем создать отчет по циклу от касания с определенным каналом. Несмотря на выбранную модель атрибуции и фильтр по каналам, в качестве первого касания/обращения всегда будет учитываться первое касание в CJM, без фильтрации по каналу. То есть нельзя создать отчет на тему &quot;Сколько времени проходит от касания с контекстной рекламой до сделки&quot; и подобные.&nbsp;</li><li>смотреть отчет по циклам, фильтруя по 1 конкретной сделке смысла нет - в линейке у всех каналов будет одинаковый вес, тк в этом случае указываются просто все каналы, с которыми были касания до нужного события. В модели по первому касанию также укажется просто канал, с которого пришло 1-е касание или обращение. При этом, как описано выше, мы не посчитаем цикл от касания с каждым каналом до нужного события. В расчете будет именно цикл от 1-го касания по CJM в нужном периоде ретро + указание всех каналов, с которыми были касания.</li><li>в показателях по циклу не считаются в кач-ве первых касаний просмотры медийной рекламы (не можем создать отчет по анализу цикла от просмотра медийки на ЦИАН до сделки и подобные)</li></ul><p><br /><strong>Если клиенту важно не только построить цикл, но и ограничить выборку данных, которые в него попадают, используются другие стандартные фильтры:</strong></p><ol><li>Чтобы указать конкретный период, в котором будем искать касания, от которых считается цикл, то можно использовать фильтр Календарь: Дата фильтрации периода равно <em>Дата нужного события + выбираем на календаре нужный период</em>. В этом случае&nbsp;важно, чтобы в показателе срм изначально не были зашиты фильтры Календарь: дата фильтрации периода и Календарь: дата отображения в отчете. В таком случае данные будут конфликтовать. Решение - настроить новый показатель по событию без указанных фильтров и уже к нему добавить фильтр&nbsp;Календарь: Дата фильтрации периода для отображения данных по дате 1 события цикла.<br />На примере (см скриншот) мы сделали с помощью фильтра&nbsp;Календарь: дата фильтрации период так, чтобы в отчет попадали только такие CJM, в которых дата первого касания находится в указанном на календаре периоде (в мае 2024 года на примере)<br /><ac:image ac:width="600"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 16.02.16.png" /></ac:image></li><li>Если клиенту нужно НЕ учитывать в цикле повторные сделки (договоры), то к отчету (или к показателю по циклу) необходимо добавить фильтр Номер телефона калиента - уникальное значение. В таком случае выберутся договоры с номером телефона, который встречается&nbsp;только 1ый раз за указанный период. Последующие в выбранном периоде договоры см таким номером телефона в цикле учитываться не будут.<br /><ac:image ac:width="600"><ri:attachment ri:filename="Снимок экрана 2024-08-26 в 16.08.45.png" /></ac:image><br /><p><br /></p></li></ol><p><br /><br /></p><p><br /></p>