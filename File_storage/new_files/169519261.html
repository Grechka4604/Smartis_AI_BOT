<h2>Доп.поля CRM</h2><p>Дополнительными полями CRM называются записи в таблице CRM_custom_fields, а значения доп полей CRM - записи в CRM_custom_fields_values.</p><p>Они нужны, чтобы мы могли при разных входных моделях данных от клиента (разная структура CRM сущностей и их свойств), не менять код и БД.</p><p>Каждое свойство (кроме даты создания и внешнего ид) внешнего события CRM - сохраняется как доп поле и как правило динамически (если приходит новое свойство срм, которое ранее не приходило - создастся новое доп поле и сохранится значение это свойство).</p><p><br /></p><p>Были случаи когда проверка на существование доп.поля работала криво (по вине разрабов или индексов БД) - в итоге создавались дубли.</p><p>Для их устранения разработан синхрон //506&nbsp;&quot;CrmCustomField: чистка дублей доп полей&quot;&nbsp;App\Synchronizers\Stat\SmartisCRM\CleanerDuplicatesCustomFieldsSync&nbsp;</p><p>По умолчанию он выключен, но если потребуется можно удалить дубли с помощью него.</p><p><br /></p>