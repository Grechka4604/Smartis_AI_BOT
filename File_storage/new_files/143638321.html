<p>Смартис виджеты умеет обрабатывать данные с встроенных формы обратной связи, которые встроены в сам сайт, например такие:</p><p><br /></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="400"><ri:attachment ri:filename="image2022-1-26_14-22-44.png" /></ac:image></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:width="726"><ri:attachment ri:filename="image2022-1-26_14-25-18.png" /></ac:image></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:width="726"><ri:attachment ri:filename="image2022-1-26_14-26-15.png" /></ac:image></span></p><p><br /></p><p><br /></p><p>Настройка обработки форм настраивается в ЛК Smartis.</p><p>Заходим в нужного клиента в ЛК Smartis, далее нажимаем &quot;Администрирование&quot;&nbsp;&rarr; &quot;Проекты и сайты&quot;&nbsp;&rarr; вкладка &quot;сайты&quot;&nbsp;&rarr; ищем нужный сайт (где нужно настроить обработку форм), нажимаем на интеграцию SmartCallBack</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:width="500"><ri:attachment ri:filename="image2022-1-26_14-45-13.png" /></ac:image></span></p><p><br /></p><p><br /></p><p>Открывается страница, далее нажимаем на вкладку &quot;Формы&quot;. В этом разделе происходит настройка формы.</p><p>Нажимаем кнопку &quot;добавить форму&quot;</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="250"><ri:attachment ri:filename="image2022-1-26_14-51-43.png" /></ac:image></span></p><p><br /></p><p><br /></p><p>Далее производим настройку:</p><p>-пишем название формы;</p><p>-в тип элемента выбираем, что за поле у нас будет. Если это поле с номером телефона - выбираем &quot;поле с телефоном&quot;</p><p><br /></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:width="800"><ri:attachment ri:filename="image2022-1-26_14-53-18.png" /></ac:image></span></p><p><br /></p><p>Теперь необходимо подобрать селектор для поля с номером телефона. Что такое селектор и как его подбирать - прочитаете чуть ниже.</p><p>Так же не забываем заполнить &quot;наименование&quot;.</p><p>Должно получиться так:</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="178"><ri:attachment ri:filename="image2022-1-26_15-38-41.png" /></ac:image></span></p><p><br /></p><p>Надо поставить еще галочку на &quot;обязательное поле&quot;. Это необходимо, чтобы не создавались ложные заявки, без заполненного номера телефона.&nbsp;</p><p>Далее нужно настроить кнопку с встроенной формы, нажимаем &quot;добавить элемент&quot;.</p><p>В &quot;тип элемента&quot; выбираем &quot;кнопка отправки формы&quot;, так же подбираем селектор, заполняем наименование.</p><p>Должно получиться следующее:</p><p><br /></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="400"><ri:attachment ri:filename="image2022-1-26_15-27-32.png" /></ac:image></span></p><p><br /></p><p><br /></p><p>Если нужно сразу же прозванивать данные, которые оставили на этой встроенной форме - нужно поставить галочку &quot;инициировать звонок&quot;.</p><p>Так же, можно настроить отправку уведомлений на определённые почты, если оставляют лид на этой форме. Нужно нажать&nbsp;&quot;получать уведомления&quot; и заполнить email.</p><p>Нажимаем сохранить форму!</p><p><br /></p><p>Теперь возвращаемся на сайт, обновляем его, пишем наш тестовый номер телефона 79645172000, открываем консоль, отправляем заявку через встроенную форму обратной связи.</p><p>Если форма корректно подвязана - в консоли вы увидите следующее:&nbsp;</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="110"><ri:attachment ri:filename="image2022-1-26_15-34-31.png" /></ac:image></span></p><p><br /></p><p>Это означает, что заявка попала в систему Смартис виджеты.&nbsp;</p><p><br /></p><p><br /></p><p><br /></p><p><strong>1)</strong>&nbsp;Что такое селектор?</p><p>Это указатель элемента в HTML разметке</p><p><br /></p><p><strong>2)</strong>&nbsp;Из чего состоит селектор?</p><p>Селектор формируется с помощью&nbsp;<strong>тегов</strong>,&nbsp;<strong>атрибутов</strong>&nbsp; и&nbsp;<strong>значений&nbsp;</strong><strong>атрибутов</strong></p><p><strong><br /></strong></p><p><strong>3)</strong>&nbsp;Что такое тег и аттрибут?</p><p>3.1<strong>&nbsp;Теги</strong>&nbsp;используются для разграничения начала и конца элементов в разметке, к тегам например можно отнести input,form,div,button и тд</p><p>3.2<strong>&nbsp;Атрибуты&nbsp;</strong>это дополнительные значения, которые настраивают элементы, они бывают стандартные (Например class,id,name,type) и кастомные (Например data-attribute-example)</p><p>Ниже на картинке указаны разные типы тегов и аттрибутов (См. картинку 1.1)</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="400"><ri:attachment ri:filename="image2022-1-26_13-43-8.png" /></ac:image></span></p><p>Картинка 1.1</p><p><br /></p><p><strong>4)</strong>&nbsp;Немного про значение который принимают аттрибутов</p><p>4.1 Аттрибут&nbsp;<strong>id&nbsp;</strong>принимает в себя одно уникальное значение (значение будет уникальным на всей разметке страницы). В селекторе id обозначается через знак хештега # (Пример: #id1)</p><p>4.2 Аттрибут&nbsp;<strong>class</strong>&nbsp;может принимать в себя несколько значений и в селекторе обозначается через знак &ldquo;точки&rdquo;(Пример:&nbsp;<em>.</em><em>class1</em>&nbsp;).При наличии нескольких значений в классе внутри селектора из соединяют таким образом (Пример:&nbsp;<em>.</em><em>class1.</em><em>class2.</em><em>class3</em>)</p><p>4.3 Остальные типы аттрибутов в селекторе указываются в квадратных скобках [name=user_phone]</p><p>&nbsp;</p><p><strong>5)</strong>&nbsp;Ниже показаны примеры формирования селектора одного элемента разными способами из картинки 1.1</p><p>5.1 #appliction_user_phone (через id элемента)</p><p>5.2 .user_phone.field_callback.empty_field (через классы элемента)</p><p>5.3 input[type=text] (где input &ndash; это тег элемента, type &ndash; аттрибут элемента, text &ndash; значение аттрибута)</p><p><br /></p><p><strong>6)</strong>&nbsp;Как сформировать более уникальный селектор во избежание конфликов</p><p>6.1 Необходимо найти селектор родительского элемента &ldquo;<em>.form__inner-wrapper</em>&rdquo;(Картинка 6.1)</p><p>6.2 Необходимо найти селектор дочернего элемента &ldquo;<em>button[type=submit]</em>&nbsp;&rdquo;(например телефона или кнопки) (Картинка 6.2)</p><p>6.3 Соединяем селектора в одну через пробел &ldquo;<em>.</em><em>form__</em><em>inner-</em><em>wrapper&nbsp;</em><em>button[</em><em>type=</em><em>submit]</em>&rdquo;</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="400"><ri:attachment ri:filename="image2022-1-26_13-43-40.png" /></ac:image></span></p><p>Картинка 6.1</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="400"><ri:attachment ri:filename="image2022-1-26_13-43-56.png" /></ac:image></span></p><p>Картинка 6.2</p><p><br /></p><p><strong>7)</strong>&nbsp;Команды для работы в консоли</p><p>7.1 jSCB('ваш селектор') &ndash; находит элемент по селектору</p><p>7.2 jSCB('ваш селектор').length &ndash; количество найденых элементов (должны быть равной 1)</p><p>7.3 jSCB('ваш селектор').val() &ndash; показывает значение элемента, например номер телефона или почту</p><p>7.4 Для наведения на элемент в HTML разметке можно открыть консоль (f12) и нажать на кнопку (Cм картинку 7.1), либо нажать сочетание клавиш CTRL + SHIFT + C</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="400"><ri:attachment ri:filename="image2022-1-26_13-45-45.png" /></ac:image></span></p><p>Картинка 7.1</p><p>7.5 Можно получить и скопировать селектор нажав по&nbsp;<strong>элементу</strong>&nbsp;правой кнопкой в HTML разметке -&gt; нажать на Copy -&gt; выбрать Copy selector</p><p>Но данный вариант подбора селектора не желателен, т.к. селектор может получиться большой&nbsp;</p><p><br /></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:height="400"><ri:attachment ri:filename="image2022-1-26_13-47-15.png" /></ac:image></span></p><p>Картинка 7.2</p><p><br /></p><p><strong>8.</strong>&nbsp;Особенности&nbsp;</p><p><strong>А)</strong>&nbsp;Бывают ситуации, когда невозможно подобрать уникальный селектор - при проверке с помощью команды jSCB('наименование селектора').length выводит больше 1. И другие селекторы невозможно подобрать.&nbsp;</p><p>В таком случае есть выход: к каждому селектору дописываем приписку :eq(*)&nbsp;</p><p>С помощью этой команды мы указываем какой по счёту селектор на странице надо использовать, если их присутствует несколько.&nbsp;</p><p>Где звёздочка - ставим цифру. Исчисление с программировании начинается с цифры 0, то есть 0, затем 1, потом 2 и т.д.</p><p>Так что начинаем &quot;подбирать&quot; именно с цифры 0.</p><p><br /></p><p>Пример:</p><p>#form .phone_number:eq(0) - поле с номером телефона&nbsp;</p><p>#form button[type=button]:eq(0) - кнопка отправки формы</p><p><br /></p><p>Чтобы легче было подбирать селектора - проверяйте их с помощью команды jSCB('наименование селектора').val()</p><p>Пример можете посмотреть ниже не скриншоте:</p><p>Сначала я проверил селектор, сколько их на странице - их оказалось 2 шт.</p><p>В поле с номером телефона я ввёл значение (любое, главное что-то ввести)</p><p>Далее, с помощью приписки :eq(0) к селектору, я начал подбор.&nbsp;</p><p>Оказалось, что нужная мне форма находится на :eq(1) - т.к. при проверке этого селектора в консоли разработки - мне выдало значение, которое было прописано в форме обратной связи.</p><p><br /></p><p><br /></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:width="1500"><ri:url ri:value="http://joxi.ru/Rmz7YeBIVWwVV2.jpg" /></ac:image></span></p><p><br /></p><p><br /></p><p><strong>Б)&nbsp;</strong>сайты, сделанные в конструкторе Тильда</p><p>Если при подборе селекторов, вы видите следующие элементы: rec*********, form******** - то 99%, что сайт сделан на Тильде.&nbsp;</p><p>Пример подобных элементом смотрите ниже на скриншоте.</p><p>Эти атрибуты - динамические, то есть - периодически они меняются, поэтому, за них нельзя подвязываться!&nbsp;</p><p>Рано или поздно они сменятся и подвязка перестанет работать&nbsp;<ac:image ac:class="emoticon emoticon-sad" ac:alt="(sad)"><ri:url ri:value="https://docs.uiscom.ru/s/ru_RU/7701/88819522251e178b5cc83bc1e3ddc18a884c1aed/_/images/icons/emoticons/sad.svg" /></ac:image>&nbsp;</p><p><br /></p><p><br /></p><p><br /></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:image ac:width="1400"><ri:url ri:value="http://joxi.ru/n2YwdnLu0jY4Or.jpg" /></ac:image></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><br /></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><br /></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><ac:structured-macro ac:name="ui-button" ac:schema-version="1" ac:macro-id="9760be64-f725-48b2-9848-85d198e014e9"><ac:parameter ac:name="color">green</ac:parameter><ac:parameter ac:name="size">large</ac:parameter><ac:parameter ac:name="icon">info</ac:parameter><ac:parameter ac:name="title">Подвязка встроенных форм обратной связи - практическое задание</ac:parameter><ac:parameter ac:name="url">https://docs.uiscom.ru/pages/viewpage.action?pageId=143638418</ac:parameter></ac:structured-macro><br /></span></p><p><br /></p>